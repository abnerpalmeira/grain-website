const locales = {
  'pt-BR': {
    // Meta tags
    title: 'Grain Pixel ‚Äî Fun with Particles',
    description: 'Grain Pixel √© um sandbox de part√≠culas em pixel art. Crie, destrua e experimente com fogo, √°gua, areia e muito mais.',
    
    // Header
    brandTitle: 'Grain Pixel',
    brandLogoAlt: 'Logo em pixel do Grain',
    appStoreAlt: 'Dispon√≠vel na App Store',
    googlePlayAlt: 'Dispon√≠vel no Google Play',
    steamAlt: 'Wishlist no Steam',
    wishlist: 'Wishlist',
    
    // Hero section
    heroTitle: 'Fun with Particles',
    tagline: 'Um sandbox de part√≠culas em pixel art para voc√™ criar, destruir e experimentar mundos vivos.',
    downloadBtn: 'Baixar',
    watchTrailerBtn: 'Assistir Trailer',
    
    // About section
    aboutTitle: 'Sobre o Jogo',
    aboutText: 'Grain Pixel combina f√≠sica divertida com est√©tica retr√¥. Misture <strong>fogo</strong>, <strong>√°gua</strong>, <strong>areia</strong>, <strong>gelo</strong>, <strong>vapor</strong> e dezenas de elementos para ver o mundo reagir em tempo real. Crie cen√°rios, acenda dinamites, congele cascatas, e descubra intera√ß√µes emergentes. Simples de jogar, profundo para dominar.',
    aboutAvailability: 'Dispon√≠vel para <strong>iOS</strong> e com vers√£o <strong>PC</strong> em desenvolvimento.',
    
    // Gallery
    screenshot1: 'Screenshot 1: deserto com pir√¢mide',
    screenshot2: 'Screenshot 2: floresta pegando fogo',
    screenshot3: 'Screenshot 3: noite com lua',
    screenshot4: 'Screenshot 4: menu de elementos',
    screenshot5: 'Screenshot 5: bioma de neve',
    screenshot6: 'Screenshot 6: sele√ß√£o de n√≠veis',
    
    // Features section
    featuresTitle: 'Recursos',
    physicsTitle: 'F√≠sica de Part√≠culas',
    physicsDesc: 'Simula√ß√µes em tempo real com fogo, √°gua, areia, fuma√ßa, gelo, vapor e muito mais.',
    biomesTitle: 'Biomas e N√≠veis',
    biomesDesc: 'Ambientes que influenciam nas rea√ß√µes: deserto, noite eterna, campos em flor, montanhas de magma.',
    explosivesTitle: 'Brinquedos Explosivos',
    explosivesDesc: 'Dinamite, √°cido, e mais. Descubra combina√ß√µes ca√≥ticas e hil√°rias.',
    controlsTitle: 'Controle Simples',
    controlsDesc: 'Toque e arraste. Interface feita para telas touch ‚Äî perfeita para iPhone e iPad.',
    performanceTitle: 'Performance Mobile',
    performanceDesc: 'Roda liso com milhares de part√≠culas, com feedback h√°ptico opcional.',
    pixelArtTitle: 'Pixel Art',
    pixelArtDesc: 'Visual retro caprichado, com paletas vivas e UI em estilo arcade.',
    
    // Trailer section
    trailerTitle: 'Trailer',
    downloadTitle: 'Baixar / Wishlist',
    downloadText: 'Entre para a lista de desejos no Steam e baixe na App Store quando dispon√≠vel.',
    newsletterText: 'Receba novidades por e-mail quando sair uma atualiza√ß√£o grande.',
    emailPlaceholder: 'seunome@email.com',
    emailLabel: 'Seu e-mail',
    subscribeBtn: 'Quero ser avisado',
    subscribeSuccess: 'Valeu! Vamos te avisar.',
    
    // Roadmap section
    roadmapTitle: 'Roadmap',
    now: 'Agora',
    wishlist: 'Wishlist',
    future: 'Futuro',
    acidTitle: 'Novo Elemento: √Åcido',
    acidDesc: 'Intera√ß√µes com areia, pedra e √°gua + efeitos visuais brilhantes.',
    editorTitle: 'Editor de Cen√°rios',
    editorDesc: 'Monte seu bioma, salve e compartilhe capturas animadas.',
    pcTitle: 'Vers√£o PC',
    pcDesc: 'Aprimoramentos de input, performance e mods leves.',
    
    // Footer
    privacyPolicy: 'Pol√≠tica de Privacidade',
    termsOfUse: 'Termos de Uso',
    contact: 'Contato',
    
    // Lightbox
    lightboxAlt: 'Imagem ampliada',
    
    // Navigation
    navigation: 'Topo',
    stores: 'Lojas',
    hero: 'Her√≥i',
    gallery: 'Galeria de imagens',
    trailer: 'Trailer do jogo',
    brand: 'Marca',
    imageViewer: 'Visualizador de imagem'
  },
  
  'en-US': {
    // Meta tags
    title: 'Grain Pixel ‚Äî Fun with Particles',
    description: 'Grain Pixel is a pixel art particle sandbox. Create, destroy and experiment with fire, water, sand and much more.',
    
    // Header
    brandTitle: 'Grain Pixel',
    brandLogoAlt: 'Grain pixel logo',
    appStoreAlt: 'Download on the App Store',
    googlePlayAlt: 'Get it on Google Play',
    steamAlt: 'Add to Steam Wishlist',
    wishlist: 'Wishlist',
    
    // Hero section
    heroTitle: 'Fun with Particles',
    tagline: 'A pixel art particle sandbox for you to create, destroy and experiment with living worlds.',
    downloadBtn: 'Download',
    watchTrailerBtn: 'Watch Trailer',
    
    // About section
    aboutTitle: 'About the Game',
    aboutText: 'Grain Pixel combines fun physics with retro aesthetics. Mix <strong>fire</strong>, <strong>water</strong>, <strong>sand</strong>, <strong>ice</strong>, <strong>steam</strong> and dozens of elements to see the world react in real time. Create scenarios, light dynamites, freeze waterfalls, and discover emergent interactions. Simple to play, deep to master.',
    aboutAvailability: 'Available for <strong>iOS</strong> with <strong>PC</strong> version in development.',
    
    // Gallery
    screenshot1: 'Screenshot 1: desert with pyramid',
    screenshot2: 'Screenshot 2: forest on fire',
    screenshot3: 'Screenshot 3: night with moon',
    screenshot4: 'Screenshot 4: elements menu',
    screenshot5: 'Screenshot 5: snow biome',
    screenshot6: 'Screenshot 6: level selection',
    
    // Features section
    featuresTitle: 'Features',
    physicsTitle: 'Particle Physics',
    physicsDesc: 'Real-time simulations with fire, water, sand, smoke, ice, steam and much more.',
    biomesTitle: 'Biomes & Levels',
    biomesDesc: 'Environments that influence reactions: desert, eternal night, flowering fields, magma mountains.',
    explosivesTitle: 'Explosive Toys',
    explosivesDesc: 'Dynamite, acid, and more. Discover chaotic and hilarious combinations.',
    controlsTitle: 'Simple Controls',
    controlsDesc: 'Touch and drag. Interface made for touch screens ‚Äî perfect for iPhone and iPad.',
    performanceTitle: 'Mobile Performance',
    performanceDesc: 'Runs smoothly with thousands of particles, with optional haptic feedback.',
    pixelArtTitle: 'Pixel Art',
    pixelArtDesc: 'Polished retro visuals, with vibrant palettes and arcade-style UI.',
    
    // Trailer section
    trailerTitle: 'Trailer',
    downloadTitle: 'Download / Wishlist',
    downloadText: 'Join the Steam wishlist and download from the App Store when available.',
    newsletterText: 'Get email updates when major updates are released.',
    emailPlaceholder: 'yourname@email.com',
    emailLabel: 'Your email',
    subscribeBtn: 'Notify me',
    subscribeSuccess: 'Thanks! We\'ll let you know.',
    
    // Roadmap section
    roadmapTitle: 'Roadmap',
    now: 'Now',
    wishlist: 'Wishlist',
    future: 'Future',
    acidTitle: 'New Element: Acid',
    acidDesc: 'Interactions with sand, stone and water + brilliant visual effects.',
    editorTitle: 'Scenario Editor',
    editorDesc: 'Build your biome, save and share animated captures.',
    pcTitle: 'PC Version',
    pcDesc: 'Input improvements, performance and light mods.',
    
    // Footer
    privacyPolicy: 'Privacy Policy',
    termsOfUse: 'Terms of Use',
    contact: 'Contact',
    
    // Lightbox
    lightboxAlt: 'Enlarged image',
    
    // Navigation
    navigation: 'Top',
    stores: 'Stores',
    hero: 'Hero',
    gallery: 'Image gallery',
    trailer: 'Game trailer',
    brand: 'Brand',
    imageViewer: 'Image viewer'
  }
};

// Language switcher functionality
class LocalizationManager {
  constructor() {
    this.currentLocale = 'pt-BR';
    this.init();
  }
  
  init() {
    this.updatePageLanguage();
    this.createLanguageSwitcher();
    this.bindEvents();
  }
  
  setLanguage(locale) {
    if (locales[locale]) {
      this.currentLocale = locale;
      this.updatePageLanguage();
      this.updateLanguageSwitcher();
      localStorage.setItem('grain-locale', locale);
    }
  }
  
  updatePageLanguage() {
    const locale = locales[this.currentLocale];
    
    // Update meta tags
    document.title = locale.title;
    document.querySelector('meta[name="description"]').setAttribute('content', locale.description);
    document.documentElement.lang = this.currentLocale;
    
    // Update all translatable elements
    this.updateElementText('[data-i18n]', locale);
    this.updateElementText('[data-i18n-placeholder]', locale, 'placeholder');
    this.updateElementText('[data-i18n-alt]', locale, 'alt');
    this.updateElementText('[data-i18n-title]', locale, 'title');
    this.updateElementText('[data-i18n-aria-label]', locale, 'aria-label');
    
    // Update CSS content for wishlist badge
    this.updateWishlistBadge(locale.wishlist);
  }
  
  updateElementText(selector, locale, attribute = 'textContent') {
    const elements = document.querySelectorAll(selector);
    elements.forEach(element => {
      const key = element.getAttribute(attribute === 'textContent' ? 'data-i18n' : `data-i18n-${attribute}`);
      if (locale[key]) {
        if (attribute === 'textContent') {
          element.innerHTML = locale[key];
        } else {
          element.setAttribute(attribute, locale[key]);
        }
      }
    });
  }
  
  updateWishlistBadge(text) {
    // Update CSS custom property for wishlist badge text
    document.documentElement.style.setProperty('--wishlist-text', `"${text}"`);
    
    // Also update data attributes on steam links for CSS content
    const steamLinks = document.querySelectorAll('a[href="#steam"]');
    steamLinks.forEach(link => {
      link.setAttribute('data-wishlist', text);
    });
  }
  
  createLanguageSwitcher() {
    const header = document.querySelector('header .nav');
    const languageSwitcher = document.createElement('div');
    languageSwitcher.className = 'language-switcher';
    languageSwitcher.innerHTML = `
      <button class="lang-btn" data-locale="pt-BR">üáßüá∑</button>
      <button class="lang-btn" data-locale="en-US">üá∫üá∏</button>
    `;
    
    header.appendChild(languageSwitcher);
    
    // Add styles
    const style = document.createElement('style');
    style.textContent = `
      .language-switcher {
        display: flex;
        gap: 8px;
        align-items: center;
      }
      .lang-btn {
        background: none;
        border: 2px solid #1a2e63;
        border-radius: 6px;
        padding: 8px;
        cursor: pointer;
        transition: all 0.2s ease;
        font-size: 16px;
      }
      .lang-btn:hover {
        background: var(--primary);
        border-color: var(--primary);
        transform: translateY(-1px);
      }
      .lang-btn.active {
        background: var(--accent);
        border-color: var(--accent);
        color: #3a2402;
      }
    `;
    document.head.appendChild(style);
  }
  
  updateLanguageSwitcher() {
    const buttons = document.querySelectorAll('.lang-btn');
    buttons.forEach(btn => {
      btn.classList.toggle('active', btn.dataset.locale === this.currentLocale);
    });
  }
  
  bindEvents() {
    document.addEventListener('click', (e) => {
      if (e.target.classList.contains('lang-btn')) {
        const locale = e.target.dataset.locale;
        this.setLanguage(locale);
      }
    });
    
    // Load saved language preference
    const savedLocale = localStorage.getItem('grain-locale');
    if (savedLocale && locales[savedLocale]) {
      this.setLanguage(savedLocale);
    }
  }
}

// Initialize localization when DOM is ready
document.addEventListener('DOMContentLoaded', () => {
  new LocalizationManager();
});
